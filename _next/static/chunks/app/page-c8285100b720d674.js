(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8143:function(e,l,n){Promise.resolve().then(n.t.bind(n,98,23)),Promise.resolve().then(n.bind(n,8317))},8317:function(e,l,n){"use strict";n.r(l),n.d(l,{default:function(){return w}});var a=n(7437),t=n(2265),s=n(4457);function o(e){var l,n,a,t,s,o,r,c,i,d,u,m,h,x,v,p;return{name:null!==(l=e.name)&&void 0!==l?l:"",kind:null!==(n=e.kind)&&void 0!==n?n:"ship",crew:null!==(a=e.crew)&&void 0!==a?a:null,minCrew:null!==(t=e.minCrew)&&void 0!==t?t:null,durability:null!==(s=e.durability)&&void 0!==s?s:null,loadedQuantity:null!==(o=e.loadedQuantity)&&void 0!==o?o:null,swe:null!==(r=e.swe)&&void 0!==r?r:null,dol:null!==(c=e.dol)&&void 0!==c?c:null,rowing:null!==(i=e.rowing)&&void 0!==i?i:null,nae:null!==(d=e.nae)&&void 0!==d?d:null,verticalSail:null!==(u=e.verticalSail)&&void 0!==u?u:null,horizontalSail:null!==(m=e.horizontalSail)&&void 0!==m?m:null,stat1:null!==(h=e.stat1)&&void 0!==h?h:null,stat2:null!==(x=e.stat2)&&void 0!==x?x:null,stat3:null!==(v=e.stat3)&&void 0!==v?v:null,isUse:null===(p=e.isUse)||void 0===p||p}}var r=n(8024),c=n(7535),i=n(98),d=n.n(i);function u(e){let{children:l,title:n}=e,[s,o]=(0,t.useState)(!1);return(0,a.jsxs)("section",{className:"".concat(d().common_component," mx-auto"),children:[n&&(0,a.jsxs)("div",{className:"".concat(d().head),children:[(0,a.jsx)("h3",{className:"".concat(d().title),children:null!=n?n:""}),(0,a.jsx)("button",{onClick:()=>{o(!s)},children:(0,a.jsx)(r.G,{icon:s?c.gc2:c.onQ})})]}),!s&&l]})}function m(e){let{children:l,...n}=e;return(0,a.jsx)("button",{...n,children:l})}var h=n(1780),x=n.n(h);function v(e){let{id:l="",className:n="",value:t="",placeholder:s,type:o="text",onChange:r}=e,c=e=>{r&&r(e)};return(0,a.jsx)("div",{className:n,children:(0,a.jsx)("input",{id:l,type:o,value:t,placeholder:s,className:"px-2 py-1 rounded-md border border-gray-300 outline-none text-base leading-normal w-full placeholder-gray-700::placeholder",onChange:e=>c(e.target.value)})})}let p={kor:"내파",val:"nae",placeholder:null},_={kor:"쇄빙",val:"swe",placeholder:null},j={kor:"돌파",val:"dol",placeholder:null},f={ship:[{kor:"선원 수",val:"crew",placeholder:null},{kor:"최소 선원 수",val:"minCrew",placeholder:null},{kor:"내구도",val:"durability",placeholder:null},{kor:"적재량",val:"loadedQuantity",placeholder:null},_,j,{kor:"조력",val:"rowing",placeholder:null},p,{kor:"세로돛",val:"verticalSail",placeholder:null},{kor:"가로돛",val:"horizontalSail",placeholder:null},{kor:"능력치 1",val:"stat1",placeholder:"포격, 백병 위력 등"},{kor:"능력치 2",val:"stat2",placeholder:"포격, 백병 위력 등"},{kor:"능력치 3",val:"stat3",placeholder:"포격, 백병 위력 등"}],armor:[p],ram:[_,j],anchor:[p,_,j]};var k=n(3449);function N(e){let{id:l,label:n,checked:t,onChange:s}=e;return(0,a.jsxs)("div",{className:"inline-flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:l,checked:t,onChange:e=>{s(e.target.checked)},className:"sr-only"}),(0,a.jsxs)("label",{htmlFor:l,className:"inline-flex items-center cursor-pointer rounded-full pl-2.5 pr-3 py-1",style:{backgroundColor:t?"var(--main500)":""},children:[(0,a.jsx)(r.G,{icon:t?k.a3n:k.pL1,className:"mr-1 ".concat(t?"text-white":"text-gray-600")}),(0,a.jsx)("span",{className:"text-sm ".concat(t?"text-white":"text-gray-600"),children:n})]})]})}function b(e){let{option:l,index:n,onChange:t}=e,s=e=>{let{index:n,key:a,value:s}=e;l[a]=s,t(l,n)},o=f[l.kind];return(0,a.jsxs)("li",{className:x().item,children:[(0,a.jsxs)("section",{className:x().menu,children:[(0,a.jsx)("div",{children:(0,a.jsx)(N,{id:"".concat(l.kind,"_isUse_").concat(n),label:"".concat(l.isUse?"사용":"대기"),checked:l.isUse,onChange:e=>s({index:n,key:"isUse",value:e})})}),(0,a.jsx)("div",{children:(0,a.jsx)(m,{onClick:()=>{confirm("[".concat(l.name,"]을 삭제할까요?"))&&(l.isDelete=!0,t(l,n))},children:(0,a.jsx)(r.G,{icon:c.I7k,className:"text-gray-500"})})})]}),(0,a.jsxs)("section",{className:x().head,children:[(0,a.jsx)("div",{className:x().icon,children:(()=>{switch(l.kind){case"armor":return(0,a.jsx)(r.G,{icon:c.isG});case"anchor":return(0,a.jsx)(r.G,{icon:c.SJR});case"ram":return(0,a.jsx)(r.G,{icon:c.o9Z});default:return(0,a.jsx)(r.G,{icon:c.bkI})}})()}),(0,a.jsx)("div",{className:x().name,children:(0,a.jsx)(v,{id:"".concat(l.kind,"_name_").concat(n),value:l.name,className:x().input,placeholder:"선박 이름",onChange:e=>s({index:n,key:"name",value:e})})})]}),(0,a.jsx)("section",{className:x().body,children:o.map(e=>{var t,o;return(0,a.jsxs)("div",{className:x().stat_row,children:[(0,a.jsx)("label",{htmlFor:"".concat(l.kind,"_").concat(e.val,"_").concat(n),children:e.kor}),(0,a.jsx)(v,{type:"number",id:"".concat(l.kind,"_").concat(e.val,"_").concat(n),className:x().input,value:String(null!==(t=l[e.val])&&void 0!==t?t:""),placeholder:"".concat(null!==(o=e.placeholder)&&void 0!==o?o:"".concat(e.kor," 입력")),onChange:l=>s({index:n,key:e.val,value:Number(l)})})]},e.val)})})]})}function y(e){let{useItem:l,changeUseItem:n,addUseItem:t,kind:s}=e;return(0,a.jsx)("div",{className:"".concat(x().wrap),children:(0,a.jsxs)("ul",{className:"".concat(x().list),children:[l.map((e,l)=>(0,a.jsx)(b,{index:l,option:e,onChange:n},l)),(0,a.jsx)("li",{className:"".concat(x().item," ").concat(x().add),children:(0,a.jsxs)(m,{onClick:()=>t(s),children:[(0,a.jsx)(r.G,{icon:c.r8p,className:"mr-2 text-lg"}),(0,a.jsx)("span",{className:"text-lg",children:"추가"})]})})]})})}function g(e){var l;let{options:n,onSelect:s,selectedValue:o}=e,[i,d]=(0,t.useState)(null!=o?o:null),[u,m]=(0,t.useState)(!1),h=e=>{d(e),s(e),m(!1)};return(0,a.jsxs)("div",{className:"relative w-full text-left",children:[(0,a.jsxs)("button",{type:"button",className:"flex items-center justify-between w-full px-4 py-2 border border-gray-300 rounded cursor-pointer hover:bg-gray-300 focus:outline-none","aria-haspopup":"true","aria-expanded":u?"true":"false",onClick:()=>m(!u),children:[(0,a.jsx)("span",{className:"text-sm",children:null===(l=n.find(e=>e.value===i))||void 0===l?void 0:l.content}),(0,a.jsx)(r.G,{icon:c.eW2,className:"ml-3 ".concat(u?"transform rotate-180":"")})]}),u&&(0,a.jsx)("div",{className:"origin-top-right absolute right-0 mt-1 w-full rounded-md shadow-lg bg-white z-50",children:(0,a.jsx)("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:n.map((e,l)=>(0,a.jsx)("button",{onClick:()=>h(e.value),className:"whitespace-nowrap block px-4 py-2 text-sm text-gray-700 w-full text-left hover:bg-gray-100 hover:text-gray-900 focus:outline-none",role:"menuitem",children:e.content},l))})})]})}function w(){var e,l,n,r;let[c,i]=(0,t.useState)(!1),[d,m]=(0,t.useState)(0),[h,x]=(0,s.fP)(["useData"]),[v,p]=(0,t.useState)((null===(e=h.useData)||void 0===e?void 0:e.useShips)||[]),[_,j]=(0,t.useState)((null===(l=h.useData)||void 0===l?void 0:l.useArmors)||[]),[k,N]=(0,t.useState)((null===(n=h.useData)||void 0===n?void 0:n.useRams)||[]),[b,w]=(0,t.useState)((null===(r=h.useData)||void 0===r?void 0:r.useAnchor)||[]);(0,t.useEffect)(()=>{i(!0),console.log("buildTest")},[]),(0,t.useEffect)(()=>{S()},[v,_,k,b]);let S=()=>{x("useData",{useShips:v,useArmors:_,useRams:k,useAnchor:b},{expires:new Date(Date.now()+15768e7)})},C=e=>{let l,n;let a="";switch(e){case"armor":l=[..._],n=j,a="장갑";break;case"ram":l=[...k],n=N,a="충각";break;case"anchor":l=[...b],n=w,a="닻";break;default:l=[...v],n=p}return{newUseItem:l,setUseItem:n,korLang:a}},I=e=>{let l;let{newUseItem:n,setUseItem:a,korLang:t}=C(e);"ship"===e?(l=o({name:"".concat(d+1,"번 선박"),kind:e}),m(e=>e+1)):l=o({name:t,kind:e}),n.push(l),a(n)},U=(e,l)=>{let{newUseItem:n,setUseItem:a}=C(e.kind);e.isDelete?n.splice(l,1):n[l]=e,a(n)},D=e=>[{content:"높은순 정렬",value:""},{content:"이름순",value:"name"},...e.map(e=>({content:e.kor,value:e.val}))],G=(e,l)=>{if(""===e)return;let{newUseItem:n,setUseItem:a}=C(l);a("name"===e?n.sort((l,n)=>l[e].localeCompare(n[e])):n.sort((l,n)=>(n[e]||0)-(l[e]||0)))};return c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{title:"선박 입력",children:(0,a.jsx)(y,{useItem:v,addUseItem:I,changeUseItem:U,kind:"ship"})}),(0,a.jsxs)(u,{title:"장갑 입력",children:[(0,a.jsx)("div",{className:"flex justify-end py-1 px-2",children:(0,a.jsx)("div",{className:"w-40",children:(0,a.jsx)(g,{options:D(f.armor),selectedValue:"",onSelect:e=>G(e,"armor")})})}),(0,a.jsx)(y,{useItem:_,addUseItem:I,changeUseItem:U,kind:"armor"})]}),(0,a.jsxs)(u,{title:"충각 입력",children:[(0,a.jsx)("div",{className:"flex justify-end py-1 px-2",children:(0,a.jsx)("div",{className:"w-40",children:(0,a.jsx)(g,{options:D(f.ram),selectedValue:"",onSelect:e=>G(e,"ram")})})}),(0,a.jsx)(y,{useItem:k,addUseItem:I,changeUseItem:U,kind:"ram"})]}),(0,a.jsxs)(u,{title:"닻 입력",children:[(0,a.jsx)("div",{className:"flex justify-end py-1 px-2",children:(0,a.jsx)("div",{className:"w-40",children:(0,a.jsx)(g,{options:D(f.anchor),selectedValue:"",onSelect:e=>G(e,"anchor")})})}),(0,a.jsx)(y,{useItem:b,addUseItem:I,changeUseItem:U,kind:"anchor"})]})]}):null}},98:function(e){e.exports={content_header:"components_content_header__RISor",inner:"components_inner__9JA8l",common_component:"components_common_component__i8cRW",head:"components_head__GDvkt",title:"components_title__YE30R"}},1780:function(e){e.exports={wrap:"fleet_wrap__Vz8r_",list:"fleet_list__ufHl_",item:"fleet_item__TAaxz",add:"fleet_add__jTvzr",menu:"fleet_menu__azIr9",head:"fleet_head__hAHJS",name:"fleet_name__YqVEZ",icon:"fleet_icon__fAqwD",body:"fleet_body__bE8PO",stat_row:"fleet_stat_row__clXz_"}}},function(e){e.O(0,[676,732,971,69,744],function(){return e(e.s=8143)}),_N_E=e.O()}]);